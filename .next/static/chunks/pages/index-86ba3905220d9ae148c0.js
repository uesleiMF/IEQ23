(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{371:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var r=t(5893);function i(e){var n,t=null!==(n=e.cor)&&void 0!==n?n:"gray";return(0,r.jsx)("button",{onClick:e.onClick,className:"\n            bg-gradient-to-r from-".concat(t,"-400 to-").concat(t,"-700\n            text-white px-4 py-2 rounded-md \n            ").concat(e.className,"\n        "),children:e.children})}var a=t(7294),l=t(6610),o=t(5991),c=t(2527),s=t(6759),u=new WeakMap,d=new WeakMap,v=new WeakMap,f=function(){function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,l.Z)(this,e),u.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),(0,s.Z)(this,d,n),(0,s.Z)(this,v,t),(0,s.Z)(this,u,r)}return(0,o.Z)(e,[{key:"id",get:function(){return(0,c.Z)(this,u)}},{key:"nome",get:function(){return(0,c.Z)(this,d)}},{key:"idade",get:function(){return(0,c.Z)(this,v)}}],[{key:"vazio",value:function(){return new e("",0)}}]),e}();function x(e){var n;return(0,r.jsxs)("div",{className:"flex flex-col ".concat(e.className),children:[(0,r.jsx)("label",{className:"mb-2",children:e.texto}),(0,r.jsx)("input",{type:null!==(n=e.tipo)&&void 0!==n?n:"text",value:e.valor,readOnly:e.somenteLeitura,onChange:function(n){var t;return null===(t=e.valorMudou)||void 0===t?void 0:t.call(e,n.target.value)},className:"\n                    border border-purple-500 rounded-lg\n                    focus:outline-none bg-gray-100 px-4 py-2\n                    ".concat(e.somenteLeitura?"":"focus:bg-white","\n                ")})]})}function h(e){var n,t,l,o,c,s=null===(n=e.cliente)||void 0===n?void 0:n.id,u=(0,a.useState)(null!==(t=null===(l=e.cliente)||void 0===l?void 0:l.nome)&&void 0!==t?t:""),d=u[0],v=u[1],h=(0,a.useState)(null!==(o=null===(c=e.cliente)||void 0===c?void 0:c.idade)&&void 0!==o?o:0),p=h[0],m=h[1];return(0,r.jsxs)("div",{children:[!!s&&(0,r.jsx)(x,{somenteLeitura:!0,texto:"C\xf3digo",valor:s,className:"mb-5"}),(0,r.jsx)(x,{texto:"Nome",valor:d,valorMudou:v,className:"mb-5"}),(0,r.jsx)(x,{texto:"Idade",tipo:"number",valor:p,valorMudou:m}),(0,r.jsxs)("div",{className:"flex justify-end mt-7",children:[(0,r.jsx)(i,{cor:"blue",className:"mr-2",onClick:function(){var n;return null===(n=e.clienteMudou)||void 0===n?void 0:n.call(e,new f(d,+p,s))},children:s?"Alterar":"Salvar"}),(0,r.jsx)(i,{onClick:e.cancelado,children:"Cancelar"})]})]})}function p(e){return(0,r.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,r.jsx)("h1",{className:"px-5 py-2 text-2xl",children:e.children}),(0,r.jsx)("hr",{className:"border-2 border-purple-500"})]})}function m(e){return(0,r.jsxs)("div",{className:"\n            flex flex-col w-2/3\n            bg-white text-gray-800 rounded-md\n        ",children:[(0,r.jsx)(p,{children:e.titulo}),(0,r.jsx)("div",{className:"p-6",children:e.children})]})}var b=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),j=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})});function w(e){var n=e.clienteExcluido||e.clienteSelecionado;function t(n){return(0,r.jsxs)("td",{className:"flex justify-center",children:[!!e.clienteSelecionado&&(0,r.jsx)("button",{onClick:function(){var t;return null===(t=e.clienteSelecionado)||void 0===t?void 0:t.call(e,n)},className:"\n                        flex justify-center items-center\n                        text-green-600 rounded-full p-2 m-1\n                        hover:bg-purple-50\n                    ",children:b}),!!e.clienteExcluido&&(0,r.jsx)("button",{onClick:function(){var t;return null===(t=e.clienteExcluido)||void 0===t?void 0:t.call(e,n)},className:"\n                        flex justify-center items-center\n                        text-red-500 rounded-full p-2 m-1\n                        hover:bg-purple-50\n                    ",children:j})]})}return(0,r.jsxs)("table",{className:"w-full rounded-xl overflow-hidden",children:[(0,r.jsx)("thead",{className:"\n                text-gray-100\n                bg-gradient-to-r from-purple-500 to-purple-800\n            ",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left p-4",children:"C\xf3digo"}),(0,r.jsx)("th",{className:"text-left p-4",children:"Nome"}),(0,r.jsx)("th",{className:"text-left p-4",children:"Idade"}),!!n&&(0,r.jsx)("th",{className:"p-4",children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{children:function(){var i;return null===(i=e.clientes)||void 0===i?void 0:i.map((function(e,i){return(0,r.jsxs)("tr",{className:"".concat(i%2===0?"bg-purple-200":"bg-purple-100"),children:[(0,r.jsx)("td",{className:"text-left p-4",children:e.id}),(0,r.jsx)("td",{className:"text-left p-4",children:e.nome}),(0,r.jsx)("td",{className:"text-left p-4",children:e.idade}),!!n&&t(e)]},e.id)}))}()})]})}var N=t(7757),g=t.n(N),k=t(2137),y=t(1254),C=(t(6257),t(4155));y.Z.apps.length||y.Z.initializeApp({apiKey:C.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:C.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:C.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID});var _=y.Z,E=new WeakMap,Z=function(){function e(){(0,l.Z)(this,e),E.set(this,{writable:!0,value:{toFirestore:function(e){return{nome:e.nome,idade:e.idade}},fromFirestore:function(e,n){var t=e.data(n);return new f(t.nome,t.idade,e.id)}}})}return(0,o.Z)(e,[{key:"salvar",value:function(){var e=(0,k.Z)(g().mark((function e(n){var t,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.id){e.next=6;break}return e.next=3,this.colecao().doc(n.id).set(n);case 3:return e.abrupt("return",n);case 6:return e.next=8,this.colecao().add(n);case 8:return t=e.sent,e.next=11,t.get();case 11:return r=e.sent,e.abrupt("return",r.data());case 13:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"excluir",value:function(){var e=(0,k.Z)(g().mark((function e(n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.colecao().doc(n.id).delete());case 1:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"obterTodos",value:function(){var e=(0,k.Z)(g().mark((function e(){var n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.colecao().get();case 2:return t=e.sent,e.abrupt("return",null!==(n=t.docs.map((function(e){return e.data()})))&&void 0!==n?n:[]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"colecao",value:function(){return _.firestore().collection("clientes").withConverter((0,c.Z)(this,E))}}]),e}();function S(){var e=new Z,n=function(){var e=(0,a.useState)("tabela"),n=e[0],t=e[1];return{formularioVisivel:"form"===n,tabelaVisivel:"tabela"===n,exibirTabela:function(){return t("tabela")},exibirFormulario:function(){return t("form")}}}(),t=n.tabelaVisivel,r=n.exibirTabela,i=n.exibirFormulario,l=(0,a.useState)(f.vazio()),o=l[0],c=l[1],s=(0,a.useState)([]),u=s[0],d=s[1];function v(){e.obterTodos().then((function(e){d(e),r()}))}function x(){return(x=(0,k.Z)(g().mark((function n(t){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.excluir(t);case 2:v();case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(){return(h=(0,k.Z)(g().mark((function n(t){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.salvar(t);case 2:v();case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,a.useEffect)(v,[]),{cliente:o,clientes:u,novoCliente:function(){c(f.vazio()),i()},salvarCliente:function(e){return h.apply(this,arguments)},excluirCliente:function(e){return x.apply(this,arguments)},selecionarCliente:function(e){c(e),i()},obterTodos:v,tabelaVisivel:t,exibirTabela:r}}function T(){var e=S(),n=e.cliente,t=e.clientes,a=e.novoCliente,l=e.salvarCliente,o=e.selecionarCliente,c=e.excluirCliente,s=e.tabelaVisivel,u=e.exibirTabela;return(0,r.jsx)("div",{className:"\n      flex justify-center items-center h-screen\n      bg-gradient-to-r from-blue-500 to-purple-500\n      text-white\n    ",children:(0,r.jsx)(m,{titulo:"Cadastro Simples",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(i,{cor:"green",className:"mb-4",onClick:a,children:"Novo Cliente"})}),(0,r.jsx)(w,{clientes:t,clienteSelecionado:o,clienteExcluido:c})]}):(0,r.jsx)(h,{cliente:n,clienteMudou:l,cancelado:u})})})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(371)}])}},function(e){e.O(0,[300,724,834,845,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);